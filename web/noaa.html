<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <meta name="description" content="">
    <meta name="author" content="">

    <title>NOAA</title>

    <link href="css/style.css" rel="stylesheet">

      <!-- jQuery -->
    <script src="js/jquery.js"></script>
    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?sensor=false"></script>
    <script src="js/heatmap.js"></script>
    <script src="js/gmaps-heatmap.js"></script>
    <script src="js/gallPeters.js"></script>
    <script src="js/getData.js"></script>

  </head>
  <body>



      <div id="coords"></div>
      <div id="map-canvas">
    </div>

    <script>

 // standard map
    map = new google.maps.Map(document.getElementById('map-canvas'),
        {
            zoom : 1,
            center :
            {
                lat : 10,
                lng : 0.0
            },
            zoomControl : true,
            mapTypeControl : false,
            scaleControl : true,
            streetViewControl : false,
            rotateControl : false,
            fullscreenControl : true,
        }
        );

    //initGallPeters();
    //map.mapTypes.set('gallPeters', gallPetersMapType);
    //map.setMapTypeId('gallPeters');

    // Show the lat and lng under the mouse cursor.
    var coordsDiv = document.getElementById('coords');
    map.controls[google.maps.ControlPosition.TOP_CENTER].push(coordsDiv);
    map.addListener('mousemove', function (event)
    {
        coordsDiv.textContent =
            'lat: ' + Math.round(event.latLng.lat()) + ', ' +
            'lng: ' + Math.round(event.latLng.lng());
    }
    );

    // heatmap layer
    heatmap = new HeatmapOverlay(map,
        {
            // radius should be small ONLY if scaleRadius is true (or small radius is intended)
            "radius" : 3,
            //"maxOpacity" : 100,
            // scales the radius based on map zoom
            "scaleRadius" : true,
            // if set to false the heatmap uses the global maximum for colorization
            // if activated: uses the data maximum within the current map boundaries
            //   (there will always be a red spot with useLocalExtremas true)
            "useLocalExtrema" : false,
            // which field name in your data represents the latitude - default "lat"
            latField : 'lat',
            // which field name in your data represents the longitude - default "lng"
            lngField : 'lng',
            // which field name in your data represents the data value - default "value"
            valueField : 'temp'
        }
        );
function toggleHeatmap() {
        heatmap.setMap(heatmap.getMap() ? null : map);
      }
      function insertData(data){
          heatmap.setData(data);
          toggleHeatmap();
      }
    // map.set('maxIntensity', 12000);
    // map.set('dissipating', false);


        $(document).ready(function(){
          toggleHeatmap();
        getData("2010", "2000");
});

</script>




  </body>
</html>